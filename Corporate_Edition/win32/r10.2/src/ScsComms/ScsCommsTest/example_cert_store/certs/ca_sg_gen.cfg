#
# ca_sg_gen.cfg
# 
# OpenSSL configuration file for generating a Symantec AntiVirus
# and Symantec Client Security Server Group root CA certificate.
#

#
# Command line:
#
# openssl req -config ./certs/ca_sg_gen.cfg -outform PEM -out ./certs/00112233445566778899AABBCCDDEEFF.0.servergroupca.cer -keyform PEM -keyout ./private-keys/00112233445566778899AABBCCDDEEFF.0.servergroupca.pvk -newkey rsa -nodes -x509 -days 1825

# We need to produce some random data from which to generate crypto data
# RANDFILE               = ./.rnd

####################################################################

[ req ]

default_bits           = 1024
default_md             = sha1
encrypt_rsa_key        = no

prompt                 = no
distinguished_name     = scs_sg_ca_distinguished_name
attributes             = scs_sg_ca_attributes
x509_extensions        = scs_sg_ca_x509v3_extensions

[ scs_sg_ca_distinguished_name ] # all of this goes into the issuer field for a CA cert, subject field for an end-entity cert

commonName             = 00112233445566778899AABBCCDDEEFF # Server Group GUID
organizationalUnitName = Server Group CA                  # literal string "Server Group CA"

[ scs_sg_ca_attributes ]

[ scs_sg_ca_x509v3_extensions ]

nsComment              = "Symantec Client Security Server Group root CA certificate generated with OpenSSL"
basicConstraints       = critical,CA:true,pathlen:1   # cert generated by this request can be used as a CA, and may issue CAs
keyUsage               = cRLSign, keyCertSign
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid:always
# keyUsage               =  # nonRepudiation, digitalSignature, keyEncipherment, cRLSign, keyCertSign


